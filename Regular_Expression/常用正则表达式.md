- [常用正则表达式](#常用正则表达式)
- [巧用$1](#巧用$1)
- [去除'//'和'/* */'注释](#去除注释)

### 常用正则表达式

| 常用正则表达式 |      |
| :--- | :---|
| 空白行 | \s|
|Email|`/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/`|
|网址URL|`/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/`|
|IP|`/(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d/)`|
|匹配img标签的正则，并获得src属性|`/<IMG src=\"([^\"]*?)\">/gi`|

### 巧用$1

```javascript
// 去掉最后的逗号
['a','b','c'].join(", ").replace(/(.*?)((\,\s)+$)/, "$1");   //"a, b, c"
['a','b',''].join(", ").replace(/(.*?)((\,\s)+$)/, "$1");    //"a, b"  如果最后一个是空，去掉最后的逗号，用于避免最后一个字母是逗号
``` 

### 去除'//'和'/* */'注释

```javascript
var reg = /("([^\\\"]*(\\.)?)*")|('([^\\\']*(\\.)?)*')|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)/g,// 正则表达式  
    str = $('event').html(); // 欲处理的文本  
str.replace(reg, function(word) { // 去除注释后的文本  
    return /^\/{2,}/.test(word) || /^\/\*/.test(word) ? "" : word;  
}
```

- 有4个子表达式：前两个是用来捕获`" "`和`' '`字符串，后两个分别用来选取`\\`和`/* */`注释
- ?号很关键，这个必须要用懒惰匹配，不然不能避免“干扰项”

> Reference

[正则表达式在线生成工具](http://tools.jb51.net/regex/create_reg)
